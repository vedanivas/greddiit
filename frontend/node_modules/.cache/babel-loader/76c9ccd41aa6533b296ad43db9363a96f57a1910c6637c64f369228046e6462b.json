{"ast":null,"code":"var _jsxFileName = \"/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/AllSubgreddiits/DisplaySubgreddiits.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport { Box } from '@mui/system';\nimport Grid from '@mui/material/Grid';\nimport Search from './Search';\nimport SubgreddiitCard from '../Subgreddiit/SubgreddiitCard';\nimport Tags from \"./Tags\";\nimport axios from \"axios\";\nimport Root from \"../../url\";\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DisplaySubgreddiits() {\n  _s();\n  const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id;\n  const [allSubgreddiits, setAllSubgreddiits] = React.useState([]);\n  const [tags, setTags] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n  const navigate = useNavigate();\n  React.useEffect(() => {\n    async function getData() {\n      try {\n        const url = Root() + \"/allsubgreddiits\";\n        const response = await axios.get(url);\n        if (response.data.status === \"OK\") {\n          setAllSubgreddiits(response.data.info);\n          response.data.info.map(each => {\n            setTags(prevArray => {\n              return [...prevArray, ...each.banned];\n            });\n          });\n          setIsLoading(false);\n        } else console.log(\"Problem\");\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    }\n    getData();\n  }, []);\n  const request = async ids => {\n    try {\n      const url = Root() + \"/joinrequest\";\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, ids, config);\n      if (response.data.status === \"OK\") console.log(\"Very good\");else console.log(\"Bad\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  const leave = async ids => {\n    try {\n      const url = Root() + \"/leave\";\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, ids, config);\n      if (response.data.status === \"OK\") console.log(\"Very good\");else console.log(\"Bad\");\n      window.location.reload();\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 27\n  }, this);else return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      my: 2,\n      mx: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: tags.map(each => {\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          children: /*#__PURE__*/_jsxDEV(Tags, {\n            tag: each\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: allSubgreddiits.map(card => {\n        let joinStatus = \"false\";\n        let joinType = \"user\";\n        if (card.moderator === id) joinType = \"moderator\";\n        card.members.map(member => {\n          if (member._id === id) joinStatus = \"true\";\n        });\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          sx: {\n            my: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(SubgreddiitCard, {\n            uni: card._id,\n            name: card.name,\n            description: card.description,\n            role: \"user\",\n            opened: \"false\",\n            joinStatus: joinStatus,\n            joinType: joinType,\n            del: () => {\n              alert(\"Not Working\");\n            },\n            request: request,\n            leave: leave\n          }, card._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n_s(DisplaySubgreddiits, \"pKmm0e5LD8cPdc5UX0BZW8Ya3t0=\", false, function () {\n  return [useNavigate];\n});\n_c = DisplaySubgreddiits;\nvar _c;\n$RefreshReg$(_c, \"DisplaySubgreddiits\");","map":{"version":3,"names":["React","Box","Grid","Search","SubgreddiitCard","Tags","axios","Root","useNavigate","DisplaySubgreddiits","id","JSON","parse","window","localStorage","getItem","_id","allSubgreddiits","setAllSubgreddiits","useState","tags","setTags","isLoading","setIsLoading","navigate","useEffect","getData","url","response","get","data","status","info","map","each","prevArray","banned","console","log","error","request","ids","config","post","leave","location","reload","my","mx","card","joinStatus","joinType","moderator","members","member","name","description","alert"],"sources":["/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/AllSubgreddiits/DisplaySubgreddiits.js"],"sourcesContent":["import * as React from 'react'\nimport { Box } from '@mui/system'\nimport Grid from '@mui/material/Grid';\nimport Search from './Search'\nimport SubgreddiitCard from '../Subgreddiit/SubgreddiitCard'\nimport Tags from \"./Tags\";\nimport axios from \"axios\";\nimport Root from \"../../url\";\nimport { useNavigate } from 'react-router-dom';\n\nexport default function DisplaySubgreddiits() {\n    const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id\n\n    const [allSubgreddiits, setAllSubgreddiits] = React.useState([])\n    const [tags, setTags] = React.useState([])\n    const [isLoading, setIsLoading] = React.useState(true)\n\n    const navigate = useNavigate()\n\n    React.useEffect(() => {\n        async function getData() {\n            try {\n                const url = Root() + \"/allsubgreddiits\"\n                const response = await axios.get(url)\n                if (response.data.status === \"OK\") {\n                    setAllSubgreddiits(response.data.info)\n\n                    response.data.info.map((each) => {\n                        setTags((prevArray) => {\n                            return [...prevArray, ...each.banned]\n                        })\n                    })\n                    setIsLoading(false)\n                }\n                else console.log(\"Problem\")\n            } catch (error) {\n                console.log(error.response.data)\n            }\n        }\n        getData()\n    }, [])\n\n    const request = async (ids) => {\n        try {\n            const url = Root() + \"/joinrequest\"\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, ids, config)\n            if (response.data.status === \"OK\") console.log(\"Very good\")\n            else console.log(\"Bad\")\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    const leave = async (ids) => {\n        try {\n            const url = Root() + \"/leave\"\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, ids, config)\n            if (response.data.status === \"OK\") console.log(\"Very good\")\n            else console.log(\"Bad\")\n\n            window.location.reload()\n\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    if (isLoading) return <h1>Loading...</h1>\n    else return (\n        <Box sx={{ my: 2, mx: 4 }}>\n            <Search />\n            <Grid container spacing={2}>\n                {tags.map((each) => {\n                    return (\n                        <Grid item>\n                            <Tags tag={each} />\n                        </Grid>\n                    )\n                })}\n            </Grid>\n            <Grid container spacing={2}>\n                {allSubgreddiits.map((card) => {\n                    let joinStatus = \"false\"\n                    let joinType = \"user\"\n                    if (card.moderator === id) joinType = \"moderator\"\n                    card.members.map((member) => {\n                        if (member._id === id) joinStatus = \"true\"\n                    })\n\n                    return (\n                        <Grid item xs={3} sx={{ my: 2 }}>\n                            <SubgreddiitCard\n                                key={card._id}\n                                uni={card._id}\n                                name={card.name}\n                                description={card.description}\n                                role=\"user\"\n                                opened=\"false\"\n                                joinStatus={joinStatus}\n                                joinType={joinType}\n                                del={() => { alert(\"Not Working\") }}\n                                request={request}\n                                leave={leave}\n                            />\n                        </Grid>\n                    )\n                })}\n            </Grid>\n        </Box>\n\n\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}