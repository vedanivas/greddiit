{"ast":null,"code":"var _jsxFileName = \"/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/SavedPosts.js\",\n  _s = $RefreshSig$();\nimport * as React from \"react\";\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Post from \"./Posts/Post\";\nimport { List, ListItem } from \"@mui/material\";\nimport axios from \"axios\";\nimport Root from \"../url\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SavedPosts() {\n  _s();\n  const [list, setList] = React.useState();\n  const [isLoading, setIsLoading] = React.useState(true);\n  const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id;\n  React.useEffect(() => {\n    async function getData() {\n      try {\n        const url = Root() + \"/savedposts/\" + id;\n        const response = await axios.get(url);\n        if (response.data.status === \"OK\") {\n          setList(response.data.posts);\n          setIsLoading(false);\n        } else console.log(\"Problem\");\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    }\n    getData();\n  }, []);\n  const ups = async info => {\n    try {\n      const url = Root() + \"/ups/\" + info.post_id;\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        id: id,\n        upstat: info.upstat\n      }, config);\n      if (response.data.status === \"OK\") {\n        console.log(\"OK\");\n      } else if (response.data.status === \"NOK\") {\n        console.log(\"NOK\");\n      } else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  const downs = async info => {\n    try {\n      const url = Root() + \"/downs/\" + info.post_id;\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        id: id,\n        downstat: info.downstat\n      }, config);\n      if (response.data.status === \"OK\") {\n        console.log(\"OK\");\n      } else if (response.data.status === \"NOK\") {\n        console.log(\"NOK\");\n      } else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  const follow = async o_user_id => {\n    try {\n      const url = Root() + \"/follow\";\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        my_id: id,\n        o_id: o_user_id\n      }, config);\n      if (response.data.status === \"OK\") {\n        console.log(\"OK\");\n        // setPosts((prevArray) => {\n        //     return [...prevArray]\n        // })\n      } else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  const remove = async post_id => {\n    try {\n      const url = Root() + \"/unsave/\" + id;\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        post_id: post_id\n      }, config);\n      if (response.data.status === \"OK\") {\n        console.log(\"OK\");\n        setList(prevArray => {\n          prevArray.filter(each => each.post_id !== post_id);\n        });\n      } else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 28\n  }, this);else return /*#__PURE__*/_jsxDEV(List, {\n    component: \"div\",\n    disablePadding: true,\n    children: list && list.map(each => {\n      console.log(each);\n      return /*#__PURE__*/_jsxDEV(ListItem, {\n        children: /*#__PURE__*/_jsxDEV(Post, {\n          info: each,\n          ups: ups,\n          downs: downs,\n          follow: follow,\n          where: \"saved\",\n          remove: remove\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 33\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this);\n}\n_s(SavedPosts, \"nlgd/CiUWM6QSkWuVuc3ODRzmg8=\");\n_c = SavedPosts;\nvar _c;\n$RefreshReg$(_c, \"SavedPosts\");","map":{"version":3,"names":["React","Box","Grid","Post","List","ListItem","axios","Root","SavedPosts","list","setList","useState","isLoading","setIsLoading","id","JSON","parse","window","localStorage","getItem","_id","useEffect","getData","url","response","get","data","status","posts","console","log","error","ups","info","post_id","config","post","upstat","downs","downstat","follow","o_user_id","my_id","o_id","remove","prevArray","filter","each","map"],"sources":["/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/SavedPosts.js"],"sourcesContent":["import * as React from \"react\";\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport Post from \"./Posts/Post\";\nimport { List, ListItem } from \"@mui/material\";\nimport axios from \"axios\";\nimport Root from \"../url\";\n\nexport default function SavedPosts() {\n\n    const [list, setList] = React.useState()\n    const [isLoading, setIsLoading] = React.useState(true)\n\n    const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id\n\n    React.useEffect(() => {\n        async function getData() {\n            try {\n                const url = Root() + \"/savedposts/\" + id\n                const response = await axios.get(url)\n                if (response.data.status === \"OK\") {\n                    setList(response.data.posts)\n                    setIsLoading(false)\n                }\n                else console.log(\"Problem\")\n            } catch (error) {\n                console.log(error.response.data)\n            }\n        }\n        getData()\n    }, [])\n\n    const ups = async (info) => {\n        try {\n            const url = Root() + \"/ups/\" + info.post_id\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, {id: id, upstat: info.upstat}, config)\n            if (response.data.status === \"OK\") {\n                console.log(\"OK\")\n            }\n            else if (response.data.status === \"NOK\"){\n                console.log(\"NOK\")\n            }\n            else console.log(\"Problem\")\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    const downs = async (info) => {\n        try {\n            const url = Root() + \"/downs/\" + info.post_id\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, {id: id, downstat: info.downstat}, config)\n            if (response.data.status === \"OK\") {\n                console.log(\"OK\")\n            }\n            else if (response.data.status === \"NOK\"){\n                console.log(\"NOK\")\n            }\n            else console.log(\"Problem\")\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    const follow = async (o_user_id) => {\n        try {\n            const url = Root() + \"/follow\"\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, {my_id: id, o_id: o_user_id}, config)\n            if (response.data.status === \"OK\") {\n                console.log(\"OK\")\n                // setPosts((prevArray) => {\n                //     return [...prevArray]\n                // })\n            }\n            else console.log(\"Problem\")\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    const remove = async (post_id) => {\n        try {\n            const url = Root() + \"/unsave/\" + id\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, {post_id: post_id}, config)\n            if (response.data.status === \"OK\") {\n                console.log(\"OK\")\n                setList((prevArray) => {\n                    prevArray.filter((each) => each.post_id !== post_id)\n                })\n            }\n            else console.log(\"Problem\")\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    if (isLoading) return (<h1>Loading...</h1>)\n    else return (\n        <List component=\"div\" disablePadding>\n                        {list && list.map((each) => {\n                            console.log(each)\n                            return (\n                                <ListItem>\n                                    <Post \n                                    info={each}\n                                    ups={ups}\n                                    downs={downs}\n                                    follow={follow}\n                                    where=\"saved\"\n                                    remove={remove}\n                                    />\n                                </ListItem>\n                            )\n                        })}\n        </List>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}