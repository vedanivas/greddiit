{"ast":null,"code":"var _jsxFileName = \"/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/MySubgreddiits/DisplayMySubgreddiit.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport CreateSubgreddiit from '../AllSubgreddiits/CreateSubgreddiit';\nimport SubgreddiitCard from \"../Subgreddiit/SubgreddiitCard\";\nimport axios from \"axios\";\nimport Root from \"../../url\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DisplayMySubgreddiit() {\n  _s();\n  const [array, setArray] = React.useState([{}]);\n  const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id;\n  React.useEffect(() => {\n    async function getData() {\n      try {\n        const url = Root() + \"/allmysubgreddiits\";\n        const config = {\n          'content-type': 'application/json'\n        };\n        const response = await axios.post(url, {\n          id: id\n        }, config);\n        if (response.data.status === \"OK\") setArray(response.data.info);else console.log(\"Problem\");\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    }\n    getData();\n  }, []);\n  function add(card) {\n    setArray(prevArray => {\n      return [...prevArray, card];\n    });\n  }\n  async function del(id) {\n    try {\n      const url = Root() + \"/delsubgreddiit\";\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        id: id\n      }, config);\n      if (response.data === \"ok\") {\n        setArray(prevArray => {\n          return prevArray.filter(card => {\n            return card._id !== id;\n          });\n        });\n      } else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      my: 2,\n      mx: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(CreateSubgreddiit, {\n      add: add\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: array.map(card => {\n        return /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 3,\n          sx: {\n            my: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(SubgreddiitCard, {\n            uni: card._id,\n            name: card.name,\n            description: card.description,\n            role: \"moderator\",\n            joinStatus: \"true\",\n            joinType: \"moderator\",\n            opened: \"false\",\n            del: del\n          }, card._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(DisplayMySubgreddiit, \"Pj0Tdxzi6oqIzfBYMiR+lyc0Y+I=\");\n_c = DisplayMySubgreddiit;\nvar _c;\n$RefreshReg$(_c, \"DisplayMySubgreddiit\");","map":{"version":3,"names":["React","Box","Grid","CreateSubgreddiit","SubgreddiitCard","axios","Root","DisplayMySubgreddiit","array","setArray","useState","id","JSON","parse","window","localStorage","getItem","_id","useEffect","getData","url","config","response","post","data","status","info","console","log","error","add","card","prevArray","del","filter","my","mx","map","name","description"],"sources":["/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/MySubgreddiits/DisplayMySubgreddiit.js"],"sourcesContent":["import * as React from 'react'; \nimport Box from '@mui/material/Box';\nimport Grid from '@mui/material/Grid';\nimport CreateSubgreddiit from '../AllSubgreddiits/CreateSubgreddiit';\nimport SubgreddiitCard from \"../Subgreddiit/SubgreddiitCard\"\nimport axios from \"axios\";\nimport Root from \"../../url\";\n\nexport default function DisplayMySubgreddiit() {\n    const [array, setArray] = React.useState([{}])\n\n    const id = JSON.parse(window.localStorage.getItem(\"user-details\"))._id\n\n    React.useEffect(() => {\n        async function getData() {\n            try {\n                const url = Root() + \"/allmysubgreddiits\"\n                const config = { 'content-type': 'application/json' }\n                const response = await axios.post(url, { id: id }, config)\n                if (response.data.status === \"OK\") setArray(response.data.info)\n                else console.log(\"Problem\")\n            } catch (error) {\n                console.log(error.response.data)\n            }\n        }\n        getData()\n    }, [])\n\n    function add(card) {\n        setArray((prevArray) => {\n            return [...prevArray, card];\n          });\n    }\n\n    async function del(id) {\n        try {\n            const url = Root() + \"/delsubgreddiit\"\n            const config = { 'content-type': 'application/json' }\n            const response = await axios.post(url, {id: id}, config)\n            if (response.data === \"ok\") {\n                setArray((prevArray) => {\n                    return prevArray.filter((card) => {\n                      return card._id !== id;\n                    });\n                  });\n            }\n            else console.log(\"Problem\")\n        } catch (error){\n            console.log(error.response.data)\n        }\n    }\n\n    return (\n        <Box sx={{ my: 2, mx: 4 }}>\n            <CreateSubgreddiit add={add}/>\n            <Grid container spacing={2}>\n                {array.map((card) => {\n                    return (\n                        <Grid item xs={3} sx={{my: 2}}>\n                            <SubgreddiitCard\n                                key={card._id}\n                                uni={card._id}\n                                name={card.name}\n                                description={card.description}\n                                role=\"moderator\"\n                                joinStatus=\"true\"\n                                joinType=\"moderator\"\n                                opened=\"false\"\n                                del={del}\n                            />\n                        </Grid>\n                    )\n                })}\n            </Grid>\n        </Box>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}