{"ast":null,"code":"var _jsxFileName = \"/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/MySubgreddiits/DisplayRequests.js\",\n  _s = $RefreshSig$();\nimport * as React from 'react';\nimport List from '@mui/material/List';\nimport Divider from '@mui/material/Divider';\nimport ListContent from '../Lists/ListContent';\nimport { useParams } from 'react-router-dom';\nimport axios from \"axios\";\nimport Root from \"../../url\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DisplayRequests() {\n  _s();\n  const {\n    subgreddiitID\n  } = useParams();\n  const [requests, setRequests] = React.useState([]);\n  React.useEffect(() => {\n    async function getData() {\n      try {\n        const url = Root() + \"/requests/\" + subgreddiitID;\n        const response = await axios.get(url);\n        if (response.data.status === \"OK\") {\n          setRequests(response.data.info);\n        } else console.log(\"Problem\");\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    }\n    getData();\n  }, []);\n  const accept = async user_id => {\n    try {\n      const url = Root() + \"/acceptance/\" + subgreddiitID;\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        user_id: user_id\n      }, config);\n      if (response.data.status === \"OK\") setRequests(response.data.info);else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  const decline = async user_id => {\n    try {\n      const url = Root() + \"/decline/\" + subgreddiitID;\n      const config = {\n        'content-type': 'application/json'\n      };\n      const response = await axios.post(url, {\n        user_id: user_id\n      }, config);\n      if (response.data.status === \"OK\") setRequests(response.data.info);else console.log(\"Problem\");\n    } catch (error) {\n      console.log(error.response.data);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(List, {\n    sx: {\n      pt: 0\n    },\n    children: requests.map(each => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ListContent, {\n          uni: each._id,\n          fname: each.fname,\n          lname: each.lname,\n          uname: each.uname,\n          accept: accept,\n          decline: decline,\n          title: \"Requests\"\n        }, each._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          variant: \"inset\",\n          component: \"li\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(DisplayRequests, \"ym41YxTGmiXz//eWAge2Kn/5q0U=\", false, function () {\n  return [useParams];\n});\n_c = DisplayRequests;\nvar _c;\n$RefreshReg$(_c, \"DisplayRequests\");","map":{"version":3,"names":["React","List","Divider","ListContent","useParams","axios","Root","DisplayRequests","subgreddiitID","requests","setRequests","useState","useEffect","getData","url","response","get","data","status","info","console","log","error","accept","user_id","config","post","decline","pt","map","each","_id","fname","lname","uname"],"sources":["/home/vedanivas/Sem_4/DASS/2021101037/frontend/src/components/MySubgreddiits/DisplayRequests.js"],"sourcesContent":["import * as React from 'react';\nimport List from '@mui/material/List';\nimport Divider from '@mui/material/Divider';\nimport ListContent from '../Lists/ListContent';\nimport { useParams } from 'react-router-dom';\nimport axios from \"axios\";\nimport Root from \"../../url\";\n\nexport default function DisplayRequests() {   \n\n    const { subgreddiitID } = useParams()\n    const [requests, setRequests] = React.useState([])\n\n    React.useEffect(() => {\n        async function getData() {\n            try {\n                const url = Root() + \"/requests/\" + subgreddiitID\n                const response = await axios.get(url)\n                if (response.data.status === \"OK\") {\n                    setRequests(response.data.info)\n                }\n                else console.log(\"Problem\")\n            } catch (error) {\n                console.log(error.response.data)\n            }\n        }\n        getData()\n    }, [])\n\n    const accept = async (user_id) => {\n        try {\n            const url = Root() + \"/acceptance/\" + subgreddiitID\n            const config = { 'content-type' : 'application/json' }\n            const response = await axios.post(url, {user_id: user_id}, config)\n            if (response.data.status === \"OK\") setRequests(response.data.info)\n            else console.log(\"Problem\")\n\n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n    const decline = async (user_id) => {\n        try {\n            const url = Root() + \"/decline/\" + subgreddiitID\n            const config = { 'content-type' : 'application/json' }\n            const response = await axios.post(url, {user_id: user_id}, config)\n            if (response.data.status === \"OK\") setRequests(response.data.info)\n            else console.log(\"Problem\")\n            \n        } catch (error) {\n            console.log(error.response.data)\n        }\n    }\n\n\n  return (\n    <List sx={{ pt: 0 }}>\n        \n        {requests.map((each) => {\n            return(\n            <>\n            <ListContent \n                key={each._id}\n                uni={each._id}\n                fname={each.fname} \n                lname={each.lname} \n                uname={each.uname}\n                accept={accept}\n                decline={decline} \n                title=\"Requests\"\n            />\n            <Divider variant=\"inset\" component=\"li\" />\n            </>\n            )\n        })}\n    </List>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}